; ***************************************************************************
; ***************************************************************************
;
; hucc-deprecated.inc
;
; Macros and definitions for compatibility with old HuC/MagicKit projects.
;
; Based on the original HuC and MagicKit definitions by David Michel and the
; other original HuC developers.
;
; ***************************************************************************
; ***************************************************************************

		; For compatibility with HuC projects that use the old name.

HUC_USER_RESERVED = HUC_USER_BANK

		; For compatibility with code that expects the HuC naming that
		; is used in the newer HuC, rather than the original HuC v3.21.
		;
		; Code generated by HuCC uses the original single-underscore.

	.if	1				
__bp		=	$F8:20EC		; base pointer
__si		=	$F8:20EE		; source address
__di		=	$F8:20F0		; destination address

__ax		=	$F8:20F8
__al		=	$F8:20F8
__ah		=	$F8:20F9

__bx		=	$F8:20FA
__bl		=	$F8:20FA
__bh		=	$F8:20FB

__cx		=	$F8:20FC
__cl		=	$F8:20FC
__ch		=	$F8:20FD

__dx		=	$F8:20FE
__dl		=	$F8:20FE
__dh		=	$F8:20FF
	.endif

		; For compatibility with code that expects the HuC naming that
		; is used rather than the shorter upper-case #define naming.

	.if	1				
video_reg	=	$FF:0200		; Address/Status Register
video_reg_l	=	$FF:0200		; Address/Status Register
video_reg_h	=	$FF:0201		; Address/Status Register
video_data	=	$FF:0202		; Data (Read/Write) Low
video_data_l	=	$FF:0202		; Data (Read/Write) Low
video_data_h	=	$FF:0203		; Data (Read/Write) High

color_ctrl	=	$FF:0400		; Control Register
color_reg	=	$FF:0402		; Color Table Address
color_reg_l	=	$FF:0402		; Color Table Address
color_reg_h	=	$FF:0402		; Color Table Address
color_data	=	$FF:0404		; Color Table Data Read/Write
color_data_l	=	$FF:0404		; Color Table Data Read/Write
color_data_h	=	$FF:0405		; Color Table Data Read/Write

irq_m		=	irq_vec			; Old System Card name.
irq2_jmp	=	irq2_hook		; Old System Card name.
irq1_jmp	=	irq1_hook		; Old System Card name.
timer_jmp	=	timer_hook		; Old System Card name.
nmi_jmp		=	nmi_hook		; Old System Card name.
sat_adr		=	satb_addr		; Old System Card name.
joy		=	joynow			; Old System Card name.
mwr_m		=	vdc_mwr			; Old System Card name.
dcr_m		=	vdc_dcr			; Old System Card name.
	.endif

		; Macros for compatibility with #asm usage in old HuC projects.

add		.macro			; add byte-sized value to
	.if (\# = 2)			; register A (handle carry
		lda	\2		; flag)
		clc
		adc	\1
		sta	\2
	.else
		clc
		adc	\1
	.endif
		.endm

sub		.macro			; subtract byte-sized value
	.if (\# = 2)			; from register A (handle
		lda	\2		; carry flag)
		sec
		sbc	\1
		sta	\2
	.else
		sec
		sbc	\1
	.endif
		.endm

incw		.macro			; increment a word-sized
		inc.l	\1		; value at stated memory
		bne	!+		; location
		inc.h	\1
!:
		.endm

decw		.macro			; decrement a word-sized
		lda	\1		; value at stated memory
		bne	!+		; location
		dec.h	\1
!:		dec.l	\1
		.endm
